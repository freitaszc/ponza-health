<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <title>Cadastro — Ponza Health</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="{{ url_for('static', filename='images/favicon.ico') }}">
  <link href="https://fonts.googleapis.com/css2?family=Funnel+Sans:wght@300;400;500;600;700&display=swap"
    rel="stylesheet" />

  <style>
    :root {
      --bg-primary: #ffffff;
      --bg-card: #ffffff;
      --text-primary: #1e293b;
      --text-muted: #64748b;
      --border: #e2e8f0;
      --shadow: rgba(2, 6, 23, .12);
      --brand-grad: linear-gradient(180deg, #131d35 0%, #0f182b 100%);
      --brand-base: #131d35;
      --brand-grad-hover: linear-gradient(180deg, #0f182b 0%, #0c1526 100%);
      --font-family: 'Funnel Sans', system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial, sans-serif;
      --fs-base: 16px;
      --fs-title: 34px;
      --fs-input: 16px;
      --fs-btn: 16px;
      --fs-small: 14px;
      --btn-height: 44px;
      --btn-minw: 220px;
      --nav-h: 72px;
    }

    * {
      box-sizing: border-box
    }

    html,
    body {
      margin: 0
    }

    body {
      font-family: var(--font-family);
      font-size: var(--fs-base);
      color: var(--text-primary);
      background: var(--bg-primary);
      min-height: 100vh;
    }

    .navbar {
      position: fixed;
      inset: 0 0 auto 0;
      height: var(--nav-h);
      z-index: 50;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--brand-grad);
      border-bottom: 1px solid #0f182b;
      box-shadow: 0 4px 18px var(--shadow);
      padding: 0 24px;
    }

    .nav-inner {
      width: 100%;
      max-width: 1200px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .nav-logo {
      display: inline-flex;
      align-items: center;
      gap: 20px;
      text-decoration: none;
    }

    .nav-logo img {
      height: 75px;
      width: auto;
      display: block;
      filter: brightness(0) invert(1);
    }

    .nav-actions a {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      height: 38px;
      padding: 0 16px;
      border-radius: 999px;
      font-weight: 800;
      font-size: var(--fs-small);
      color: #fff;
      border: 2px solid #fff;
      background: transparent;
      text-decoration: none;
      transition: .22s;
      margin-left: 10px;
    }

    .nav-actions a:hover {
      background: #fff;
      color: var(--brand-base);
      transform: translateY(-1px);
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: calc(var(--nav-h) + 32px) 16px 32px;
      display: flex;
      justify-content: center;
    }

    .card {
      width: 100%;
      max-width: 520px;
      border-radius: 16px;
      padding: 28px;
      margin: 0 12px;
      background: var(--bg-card);
      border: 1px solid var(--border);
      box-shadow: 0 10px 24px var(--shadow);
    }

    h1,
    h2,
    h3 {
      font-weight: 800;
      color: var(--text-primary);
      text-align: center;
      text-shadow: none;
    }

    h2 {
      font-size: var(--fs-title);
      margin: 0 0 18px;
    }

    .input,
    .select {
      width: 100%;
      padding: 12px 14px;
      border-radius: 10px;
      border: 2px solid var(--border);
      background: #fff;
      color: var(--text-primary);
      outline: none;
      transition: .2s;
      font-size: var(--fs-input);
      font-family: var(--font-family);
    }

    .input:focus,
    .select:focus {
      border-color: var(--brand-base);
      box-shadow: 0 0 0 4px rgba(19, 29, 53, .12);
    }

    .btn-primary {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      height: var(--btn-height);
      width: 100%;
      min-width: var(--btn-minw);
      border-radius: 999px;
      border: none;
      cursor: pointer;
      background: var(--brand-grad);
      color: #fff;
      font-weight: 800;
      font-size: var(--fs-btn);
      box-shadow: 0 10px 26px rgba(19, 29, 53, .22);
      transition: .25s;
    }

    .btn-primary:hover {
      transform: translateY(-2px) scale(1.02);
      box-shadow: 0 14px 36px rgba(19, 29, 53, .30);
      background: var(--brand-grad-hover);
    }

    .muted {
      color: var(--text-muted);
      font-size: var(--fs-small);
    }

    .link {
      color: var(--brand-base);
      text-decoration: none;
      font-weight: 800;
    }

    .link:hover {
      text-decoration: underline;
    }

    .hidden {
      display: none;
    }
  </style>
</head>

<body>
  <header class="navbar">
    <div class="nav-inner">
      <a href="{{ url_for('hero') }}" class="nav-logo">
        <img src="{{ url_for('static', filename='images/7.svg') }}" alt="Ponza Health" />
      </a>
      <div class="nav-actions">
        <a href="{{ url_for('register') }}">Cadastrar</a>
        <a href="{{ url_for('login') }}">Entrar</a>
      </div>
    </div>
  </header>

  <main>
    <div class="container">
      <div class="card">
        <h2>Crie sua conta</h2>

        <!-- SEM BLOCOS DE MENSAGENS/FLASH NO CADASTRO -->

        <form method="post" action="{{ url_for('register') }}" onsubmit="return validarEmpresa()">
          <div style="margin-bottom:12px">
            <input type="text" name="username" placeholder="Nome de usuário" required class="input">
          </div>

          <div style="margin-bottom:12px">
            <input type="email" name="email" placeholder="E-mail" required class="input">
          </div>

          <div style="margin-bottom:12px">
            <select id="account_type" name="account_type" class="select" onchange="toggleEmpresaField()">
              <option value="pessoal" selected>Conta pessoal</option>
              <option value="empresa">Conta da empresa</option>
            </select>
          </div>

          <div id="empresa_field" class="hidden" style="margin-bottom:12px">
            <input type="text" id="company_code" name="company_code" placeholder="Código da empresa" class="input">
          </div>

          <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-bottom:4px">
            <input type="password" name="password" placeholder="Senha" required class="input">
            <input type="password" name="confirm" placeholder="Confirmar senha" required class="input">
          </div>

          <p class="muted" style="margin: 6px 0 16px">
            A senha deve ter 8+ caracteres, com letra, número e símbolo.
          </p>

          <button type="submit" class="btn-primary">Cadastrar</button>
        </form>

        <div style="text-align:center; margin-top:16px">
          <span class="muted">Já tem conta?</span>
          <a href="{{ url_for('login') }}" class="link" style="margin-left:6px">Entrar</a>
        </div>
      </div>
    </div>
  </main>

  <script>
    function toggleEmpresaField() {
      const tipo = document.getElementById('account_type').value;
      const campo = document.getElementById('empresa_field');
      const input = document.getElementById('company_code');
      if (tipo === 'empresa') {
        campo.classList.remove('hidden');
        input.setAttribute('required', 'required');
      } else {
        campo.classList.add('hidden');
        input.removeAttribute('required');
      }
    }

    function validarEmpresa() {
      const tipo = document.getElementById('account_type').value;
      const input = document.getElementById('company_code');
      if (tipo === 'empresa' && !input.value.trim()) {
        alert('Por favor, insira o código da empresa.');
        return false;
      }
      return true;
    }
  </script>
</body>

</html>