<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <title>Pagamentos - Ponza Health</title>
  <link rel="icon" href="{{ url_for('static', filename='images/favicon.ico') }}" type="image/x-icon">
  <!-- Funnel Sans -->
  <link href="https://fonts.googleapis.com/css2?family=Funnel+Sans:wght@300;400;500;600;700&display=swap"
    rel="stylesheet">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <!-- CSS padronizado -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/ponza-base.css') }}">

  <!-- Ajustes locais de estilo -->
  <style>
    /* Sidebar com fonte padronizada */
    .sidebar a.menu-item {
      font-size: 16px;
    }

    .sidebar .label {
      font-size: 16px;
    }

    /* Painel de benefícios */
    .benefits {
      margin-bottom: 18px;
    }

    .benefits .benefits-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 12px;
    }

    @media (max-width: 720px) {
      .benefits .benefits-grid {
        grid-template-columns: 1fr;
      }
    }

    .benefit {
      display: flex;
      align-items: flex-start;
      gap: 10px;
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 12px 14px;
      box-shadow: var(--shadow);
    }

    .benefit i {
      color: var(--brand-solid);
      font-size: 18px;
      margin-top: 2px;
      flex: 0 0 18px;
    }

    .benefit .t {
      font-weight: 800;
      color: var(--ink);
      font-size: 14px;
      margin: 0 0 4px;
    }

    .benefit .d {
      color: var(--ink-dim);
      font-size: 13px;
      margin: 0;
      line-height: 1.4;
    }

    /* Caixa “Como funciona” */
    .howitworks {
      margin-top: 12px;
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 14px;
      box-shadow: var(--shadow);
    }

    .howitworks h4 {
      margin: 0 0 8px;
      font-size: 14px;
      color: var(--ink);
      font-weight: 800;
    }

    .howitworks ol {
      margin: 0;
      padding-left: 18px;
      color: var(--ink-dim);
      font-size: 13px;
      line-height: 1.5;
    }

    /* Form de compra: centralizar e manter padrão */
    .purchase-wrap {
      max-width: 560px;
      margin: 0 auto;
      text-align: left;
    }

    .purchase-actions {
      text-align: center;
      margin-top: 22px;
    }
  </style>
</head>

<body>
  <!-- Topo direito: Perfil + Notificações -->
  <div class="top-profile" aria-label="Ações do usuário">
    <a href="{{ url_for('account') }}" class="icon-btn" title="Minha conta" aria-label="Minha conta">
      <i class="fa fa-user"></i>
    </a>
    <button class="icon-btn" type="button" title="Notificações" aria-label="Notificações">
      <i class="fa fa-bell"></i>
      <span class="badge">{{ (notifications_unread or 0) }}</span>
    </button>
  </div>

  <!-- Sidebar -->
  <div class="sidebar" id="sidebar">
    <button class="sidebar-toggle" onclick="toggleSidebar()" aria-label="Minimizar/Maximizar menu"><i
        class="fa fa-angle-double-left"></i></button>
    <img src="{{ url_for('static', filename='images/3.svg') }}" class="sidebar-logo" alt="Ponza Health" />
    <a href="{{ url_for('index') }}" class="menu-item"><i class="fa fa-home"></i><span class="label">Início</span></a>
    <a href="{{ url_for('upload') }}" class="menu-item"><i class="fa fa-upload"></i><span class="label">Ponza
        Lab</span></a>
    <a href="{{ url_for('quote_index') }}" class="menu-item"><i class="fa fa-file-text-o"></i><span
        class="label">Cotações</span></a>
    <a href="{{ url_for('catalog') }}" class="menu-item"><i class="fa fa-users"></i><span
        class="label">Pacientes</span></a>
    <a href="{{ url_for('products') }}" class="menu-item"><i class="fa fa-archive"></i><span
        class="label">Estoque</span></a>
    <a href="{{ url_for('agenda') }}" class="menu-item"><i class="fa fa-calendar"></i><span
        class="label">Agenda</span></a>

    <a href="{{ url_for('purchase') }}" class="menu-item"><i class="fa fa-credit-card"></i><span
        class="label">Pagamentos</span></a>
    <div class="sidebar-spacer"></div>
    <a href="{{ url_for('logout') }}" class="menu-item logout"><i class="fa fa-sign-out"></i><span
        class="label">Sair</span></a>
  </div>

  <!-- Conteúdo -->
  <div class="content">
    <h2>Pagamentos</h2>

    {% if request.args.get('message') == 'pacote' %}
    <div class="alert">
      Seu pacote de análises acabou. Por favor, adquira mais para continuar usando o Ponza Lab.
    </div>
    {% endif %}

    <!-- Painel de Benefícios -->
    <div class="panel benefits">
      <h3 class="subtitle" style="margin-top:0; margin-bottom:12px; color:var(--ink-dim); font-weight:700;">Por que
        comprar pacotes de análises?</h3>

      <div class="benefits-grid">
        <div class="benefit">
          <i class="fa fa-bolt" aria-hidden="true"></i>
          <div>
            <p class="t">Agilidade no atendimento</p>
            <p class="d">As análises ficam disponíveis imediatamente, reduzindo tempo de espera e acelerando decisões
              clínicas.</p>
          </div>
        </div>
        <div class="benefit">
          <i class="fa fa-bar-chart" aria-hidden="true"></i>
          <div>
            <p class="t">Melhor visibilidade dos resultados</p>
            <p class="d">Relatórios e indicadores claros para acompanhar evolução de pacientes e desempenho do
              consultório.</p>
          </div>
        </div>
        <div class="benefit">
          <i class="fa fa-shield" aria-hidden="true"></i>
          <div>
            <p class="t">Confiabilidade e segurança</p>
            <p class="d">Processamento consistente e armazenamento seguro, mantendo a qualidade e a privacidade dos
              dados.</p>
          </div>
        </div>
        <div class="benefit">
          <i class="fa fa-clock-o" aria-hidden="true"></i>
          <div>
            <p class="t">Previsibilidade de custos</p>
            <p class="d">Planos por volume facilitam o planejamento financeiro e evitam interrupções no uso do Ponza
              Lab.</p>
          </div>
        </div>
      </div>

      <div class="howitworks">
        <h4>Como funciona</h4>
        <ol>
          <li>Escolha um pacote conforme seu volume de análises.</li>
          <li>Gere o pagamento e conclua a compra com segurança.</li>
          <li>As análises são creditadas automaticamente na sua conta.</li>
          <li>Acompanhe o consumo e o saldo diretamente no painel.</li>
        </ol>
      </div>
    </div>

    <!-- Painel de Compra -->
    <div class="panel">
      <form method="post" style="text-align:center;">
        <h3>Comprar Pacote de Análises</h3>
        <div class="purchase-wrap">
          <label for="package" class="label">Selecione o Pacote</label>
          <select name="package" id="package" class="select" required>
            <option value="50">50 Análises — R$ 120</option>
            <option value="150">150 Análises — R$ 300</option>
            <option value="500">500 Análises — R$ 950</option>
          </select>

          <div class="purchase-actions">
            <button type="submit" class="btn">Gerar Pagamento</button>
          </div>
        </div>
      </form>
    </div>
  </div>

  <script>
    function toggleSidebar() {
      const s = document.getElementById('sidebar');
      s.classList.toggle('is-collapsed');
      localStorage.setItem('sidebarCollapsed', s.classList.contains('is-collapsed') ? '1' : '0');
    }
    document.addEventListener('DOMContentLoaded', () => {
      if (localStorage.getItem('sidebarCollapsed') === '1') {
        document.getElementById('sidebar')?.classList.add('is-collapsed');
      }
    });
  </script>
</body>

</html>